{"ast":null,"code":"import React,{useRef,useState}from'react';import{Upload,Film,X}from'lucide-react';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function VideoUpload(_ref){let{onFileSelect,accept='video/*'}=_ref;const inputRef=useRef(null);const[dragging,setDragging]=useState(false);const[file,setFile]=useState(null);const handleFile=f=>{if(!f)return;if(!f.type.startsWith('video/')){toast.error('Bitte nur Videodateien hochladen.');return;}setFile(f);onFileSelect&&onFileSelect(f);};const handleDrop=e=>{e.preventDefault();setDragging(false);const f=e.dataTransfer.files[0];handleFile(f);};return/*#__PURE__*/_jsxs(\"div\",{onDragOver:e=>{e.preventDefault();setDragging(true);},onDragLeave:()=>setDragging(false),onDrop:handleDrop,onClick:()=>{var _inputRef$current;return!file&&((_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.click());},className:\"\\n        relative border-2 border-dashed rounded-2xl p-8 text-center cursor-pointer transition-all duration-200\\n        \".concat(dragging?'border-violet-500 bg-violet-500/10':'border-white/20 hover:border-violet-500/50 hover:bg-white/5',\"\\n        \").concat(file?'cursor-default':'',\"\\n      \"),children:[/*#__PURE__*/_jsx(\"input\",{ref:inputRef,type:\"file\",accept:accept,className:\"hidden\",onChange:e=>handleFile(e.target.files[0])}),file?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-xl bg-violet-600/30 flex items-center justify-center\",children:/*#__PURE__*/_jsx(Film,{size:20,className:\"text-violet-400\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-white truncate max-w-xs\",children:file.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-400\",children:[(file.size/1024/1024).toFixed(1),\" MB\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();setFile(null);onFileSelect&&onFileSelect(null);},className:\"p-1.5 rounded-lg hover:bg-white/10 text-gray-400 hover:text-white transition-all\",children:/*#__PURE__*/_jsx(X,{size:16})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-600/30 to-pink-600/30 border border-violet-500/20 flex items-center justify-center mx-auto\",children:/*#__PURE__*/_jsx(Upload,{size:24,className:\"text-violet-400\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-white font-medium\",children:\"Video hierher ziehen\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-sm mt-1\",children:[\"oder \",/*#__PURE__*/_jsx(\"span\",{className:\"text-violet-400\",children:\"klicken zum Ausw\\xE4hlen\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"MP4, MOV, AVI bis zu 500 MB\"})]})]});}","map":{"version":3,"names":["React","useRef","useState","Upload","Film","X","toast","jsx","_jsx","jsxs","_jsxs","VideoUpload","_ref","onFileSelect","accept","inputRef","dragging","setDragging","file","setFile","handleFile","f","type","startsWith","error","handleDrop","e","preventDefault","dataTransfer","files","onDragOver","onDragLeave","onDrop","onClick","_inputRef$current","current","click","className","concat","children","ref","onChange","target","size","name","toFixed","stopPropagation"],"sources":["/home/runner/work/Tik-Tok-/Tik-Tok-/frontend/src/components/VideoUpload.jsx"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport { Upload, Film, X } from 'lucide-react';\nimport toast from 'react-hot-toast';\n\nexport default function VideoUpload({ onFileSelect, accept = 'video/*' }) {\n  const inputRef = useRef(null);\n  const [dragging, setDragging] = useState(false);\n  const [file, setFile] = useState(null);\n\n  const handleFile = (f) => {\n    if (!f) return;\n    if (!f.type.startsWith('video/')) {\n      toast.error('Bitte nur Videodateien hochladen.');\n      return;\n    }\n    setFile(f);\n    onFileSelect && onFileSelect(f);\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    setDragging(false);\n    const f = e.dataTransfer.files[0];\n    handleFile(f);\n  };\n\n  return (\n    <div\n      onDragOver={(e) => { e.preventDefault(); setDragging(true); }}\n      onDragLeave={() => setDragging(false)}\n      onDrop={handleDrop}\n      onClick={() => !file && inputRef.current?.click()}\n      className={`\n        relative border-2 border-dashed rounded-2xl p-8 text-center cursor-pointer transition-all duration-200\n        ${dragging ? 'border-violet-500 bg-violet-500/10' : 'border-white/20 hover:border-violet-500/50 hover:bg-white/5'}\n        ${file ? 'cursor-default' : ''}\n      `}\n    >\n      <input\n        ref={inputRef}\n        type=\"file\"\n        accept={accept}\n        className=\"hidden\"\n        onChange={(e) => handleFile(e.target.files[0])}\n      />\n\n      {file ? (\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-xl bg-violet-600/30 flex items-center justify-center\">\n              <Film size={20} className=\"text-violet-400\" />\n            </div>\n            <div className=\"text-left\">\n              <p className=\"text-sm font-medium text-white truncate max-w-xs\">{file.name}</p>\n              <p className=\"text-xs text-gray-400\">{(file.size / 1024 / 1024).toFixed(1)} MB</p>\n            </div>\n          </div>\n          <button\n            onClick={(e) => { e.stopPropagation(); setFile(null); onFileSelect && onFileSelect(null); }}\n            className=\"p-1.5 rounded-lg hover:bg-white/10 text-gray-400 hover:text-white transition-all\"\n          >\n            <X size={16} />\n          </button>\n        </div>\n      ) : (\n        <div className=\"space-y-3\">\n          <div className=\"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-600/30 to-pink-600/30 border border-violet-500/20 flex items-center justify-center mx-auto\">\n            <Upload size={24} className=\"text-violet-400\" />\n          </div>\n          <div>\n            <p className=\"text-white font-medium\">Video hierher ziehen</p>\n            <p className=\"text-gray-400 text-sm mt-1\">oder <span className=\"text-violet-400\">klicken zum Ausw√§hlen</span></p>\n          </div>\n          <p className=\"text-xs text-gray-500\">MP4, MOV, AVI bis zu 500 MB</p>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}